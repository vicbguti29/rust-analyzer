================================================================================
REPORTE DE ANÁLISIS SEMÁNTICO
================================================================================
Fecha y Hora: 16-11-2025 23:30:36
Desarrollador: Alvasconv
================================================================================

CÓDIGO FUENTE ANALIZADO:
--------------------------------------------------------------------------------
// docs/algoritmos_de_prueba/prb_semantico.rs
// Archivo de prueba para el Analizador Semántico.
// Contiene casos válidos e inválidos para las reglas de tipado.

// Structs para pruebas semánticas
struct Vec2 {}
struct Color {}

fn main() {
    // --- Casos Válidos ---

    // Declaración explícita correcta
    let a: i32 = 10;
    let b: f64 = 20.5;
    let c: bool = true;
    let d: &str = "hello";

    // Declaración implícita (el tipo se infiere)
    let e = 50;
    let f = false;

    // Reasignación correcta a una variable mutable
    let mut g = 100;
    g = 200;

    let mut h = "texto";
    h = "otro texto";


    // --- Casos Inválidos (el analizador semántico debería detectarlos) ---

    // Regla 1: Discrepancia de tipos en la declaración explícita
    let error1: i32 = "esto no es un i32";
    let error2: bool = 1;


    // Regla 2: Discrepancia de tipos en la reasignación
    let mut error3 = 500;
    error3 = true; // Error: se esperaba i32, se encontró bool

    let mut error4 = "hola";
    error4 = 123; // Error: se esperaba &str, se encontró i32

    
    // --- Nuevos Casos de Prueba para Structs, Arrays y Tuplas ---

    // Structs
    let v1 = Vec2 {};
    let mut v2 = Vec2 {};
    v2 = v1; // Válido

    let c1: Color = Vec2 {}; // Error: se esperaba Color, se encontró Vec2
    let mut v3 = Vec2 {};
    v3 = Color {}; // Error: se esperaba Vec2, se encontró Color

    // Arrays y Tuplas (con tipos inferidos)
    let arr1 = [1, 2, 3];
    let tup1 = (10, true);
    let mut arr2 = [10, 20];
    arr2 = [30, 40]; // Válido

    let mut arr3 = [1.0, 2.0];
    arr3 = [1, 2]; // Error: se esperaba [f64; 2], se encontró [i32; 2]
    
    let mut tup2 = (10, false);
    tup2 = (10, "hello"); // Error: se esperaba (i32, bool), se encontró (i32, &str)
}

--------------------------------------------------------------------------------

ERRORES SEMÁNTICOS ENCONTRADOS: 9
--------------------------------------------------------------------------------

1. Error Semántico (Línea 33): Discrepancia de tipos. Se esperaba tipo 'i32' pero se encontró tipo '&str' en la asignación de 'error1'.

2. Error Semántico (Línea 34): Discrepancia de tipos. Se esperaba tipo 'bool' pero se encontró tipo 'i32' en la asignación de 'error2'.

3. Error Semántico (Línea 39): Discrepancia de tipos en la reasignación. La variable 'error3' tiene el tipo 'i32', pero se intentó asignar un valor de tipo 'bool'.

4. Error Semántico (Línea 42): Discrepancia de tipos en la reasignación. La variable 'error4' tiene el tipo '&str', pero se intentó asignar un valor de tipo 'i32'.

5. Error Semántico (Línea 50): Discrepancia de tipos en la reasignación. La variable 'v2' tiene el tipo 'Vec2', pero se intentó asignar un valor de tipo '&str'.

6. Error Semántico (Línea 52): Discrepancia de tipos. Se esperaba tipo 'Color' pero se encontró tipo 'Vec2' en la asignación de 'c1'.

7. Error Semántico (Línea 54): Discrepancia de tipos en la reasignación. La variable 'v3' tiene el tipo 'Vec2', pero se intentó asignar un valor de tipo 'Color'.

8. Error Semántico (Línea 63): Discrepancia de tipos en la reasignación. La variable 'arr3' tiene el tipo '[f64; 2]', pero se intentó asignar un valor de tipo '[i32; 2]'.

9. Error Semántico (Línea 66): Discrepancia de tipos en la reasignación. La variable 'tup2' tiene el tipo '(i32, bool)', pero se intentó asignar un valor de tipo '(i32, &str)'.
